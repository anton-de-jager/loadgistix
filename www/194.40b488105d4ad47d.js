"use strict";(self.webpackChunkloadgistix=self.webpackChunkloadgistix||[]).push([[194],{1708:(O,f,i)=>{i.d(f,{I:()=>y});var p=i(7445),Z=i(2340),t=i(5e3),e=i(8279),A=i(7261),T=i(6407),I=i(8951),S=i(4521),x=i(9808),d=i(9224);function C(r,m){if(1&r&&t._UZ(0,"img",7),2&r){const a=t.oxw().$implicit,o=t.oxw(2);t.Q6J("src",o.imagesFolder+"Adverts/"+a.id+a.avatar+"?t="+o.timestamp(),t.LSH)}}function D(r,m){if(1&r&&(t.TgZ(0,"mat-card",3),t.TgZ(1,"mat-card-title-group"),t.TgZ(2,"mat-card-title",4),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5),t.qZA(),t.YNc(6,C,1,1,"img",5),t.qZA(),t.TgZ(7,"mat-card-content"),t._uU(8),t._UZ(9,"br"),t._UZ(10,"br"),t.TgZ(11,"a",6),t._uU(12),t.qZA(),t.qZA(),t.qZA()),2&r){const a=m.$implicit;t.xp6(3),t.Oqu(a.title),t.xp6(2),t.Oqu(a.subTitle),t.xp6(1),t.Q6J("ngIf",a.avatar),t.xp6(2),t.hij(" ",a.content,""),t.xp6(3),t.Q6J("href",a.link,t.LSH),t.xp6(1),t.Oqu(a.link)}}function B(r,m){if(1&r&&(t.ynx(0),t.YNc(1,D,13,6,"mat-card",2),t.BQk()),2&r){const a=t.oxw();t.xp6(1),t.Q6J("ngForOf",a.advertItems)}}function v(r,m){1&r&&(t.TgZ(0,"mat-card",3),t.TgZ(1,"mat-card-title-group"),t.TgZ(2,"mat-card-title",4),t._uU(3,"Loadgistix"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"Get more"),t.qZA(),t._UZ(6,"img",8),t.qZA(),t.TgZ(7,"mat-card-content"),t._uU(8," Contact us today - we will show you how to get the best out of Loadgistix! "),t.qZA(),t.qZA())}let y=(()=>{class r{constructor(a,o,c,h,E){this.apiService=a,this._snackBar=o,this.variableService=c,this.authService=h,this._router=E,this.imagesFolder=Z.N.api+"Images/",this.loading=!0,this.advertItems=[]}ngOnInit(){this.getAdverts().then(o=>{this.advertItems=o});const a=(0,p.F)(6e5);this.subscription=a.subscribe(o=>{this.authService.check().subscribe(c=>{c&&this.getAdverts().then(h=>{this.advertItems=h})})})}timestamp(){return(new Date).getTime()}getAdverts(){return new Promise(o=>{try{this.apiService.post("adverts","available",null).subscribe({next:c=>{1==c.result?o(c.data):"Expired"==c.message?this._router.navigate(["/sign-out"]):this._snackBar.open("Error: "+c.message,null,{duration:2e3})},error:c=>{console.log(c),this._snackBar.open("Error: "+c,null,{duration:2e3})},complete:()=>{}})}catch(c){o([])}})}}return r.\u0275fac=function(a){return new(a||r)(t.Y36(e.s),t.Y36(A.ux),t.Y36(T.S),t.Y36(I.e),t.Y36(S.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["advert"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","style","margin-bottom: 12px;",4,"ngIf"],["class","flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","style","margin-bottom: 12px;",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden",2,"margin-bottom","12px"],[2,"font-size","18px"],["mat-card-sm-image","",3,"src",4,"ngIf"],["target","_blank",3,"href"],["mat-card-sm-image","",3,"src"],["mat-card-sm-image","","src","assets/images/no-image.jpg"]],template:function(a,o){1&a&&(t.YNc(0,B,2,1,"ng-container",0),t.YNc(1,v,9,0,"mat-card",1)),2&a&&(t.Q6J("ngIf",o.advertItems.length>0),t.xp6(1),t.Q6J("ngIf",0===o.advertItems.length))},directives:[x.O5,x.sg,d.a8,d.C1,d.n5,d.$j,d.dn,d.vP],styles:[".mat-card-sm-image[_ngcontent-%COMP%]{max-width:120px;max-height:120px;width:auto;height:auto}"]}),r})()},5194:(O,f,i)=>{i.r(f),i.d(f,{BusinessDirectoryModule:()=>U});var p=i(4521),Z=i(7579),t=i(2722),e=i(5e3),A=i(8966),T=i(3075),I=i(8279),S=i(7261),x=i(6407),d=i(9122),C=i(6362),D=i(4880),B=i(9224),v=i(4623),y=i(9808),r=i(1708),m=i(5245),a=i(508),o=i(7544);function c(n,u){if(1&n&&(e.TgZ(0,"mat-list-item",9),e.TgZ(1,"mat-icon",10),e._uU(2,"note"),e.qZA(),e.TgZ(3,"div",11),e.TgZ(4,"a",12),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&n){const s=e.oxw().$implicit;e.xp6(4),e.Q6J("href","#/directory-details?id="+s.id,e.LSH)("matBadge",s.directory?s.directory.length:0),e.xp6(1),e.Oqu(s.description)}}function h(n,u){if(1&n&&(e.ynx(0),e.YNc(1,c,6,3,"mat-list-item",8),e.BQk()),2&n){const s=u.$implicit;e.xp6(1),e.Q6J("ngIf",(s.directory?s.directory.length:0)>0)}}let E=(()=>{class n{constructor(s,g,l,b,Y,L,F,W,J){this.dialog=s,this._formBuilder=g,this.apiService=l,this._snackBar=b,this.variableService=Y,this._router=L,this._fuseNavigationService=F,this.fuseSplashScreenService=W,this._fuseMediaWatcherService=J,this.loading=!0,this._unsubscribeAll=new Z.x,this.userId=localStorage.getItem("userId"),this.navigation=[{id:"home",title:"Home",type:"basic",icon:"heroicons_outline:home",link:"/home"},{id:"business-directory",title:"Business Directory",type:"basic",icon:"heroicons_outline:chart-pie",link:"/business-directory"}],this.fuseSplashScreenService.show(),this.loading=!0,console.log(this.userId)}ngOnInit(){this._fuseMediaWatcherService.onMediaChange$.pipe((0,t.R)(this._unsubscribeAll)).subscribe(({matchingAliases:s})=>{this.isScreenSmall=!s.includes("md")}),this.getDirectoryCategories().then(s=>{this.variableService.setPageSelected("Business Directory"),this.directoryCategoryList=s,this.fuseSplashScreenService.hide(),this.loading=!1})}toggleNavigation(s){const g=this._fuseNavigationService.getComponent(s);g&&g.toggle()}get currentYear(){return(new Date).getFullYear()}getDirectoryCategories(){return new Promise(g=>{try{this.apiService.post("directoryCategories","available",null).subscribe({next:l=>{1==l.result?g(l.data):"Expired"==l.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+l.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:l=>{console.log(l),this._snackBar.open("Error: "+l,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(l){g([])}})}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(A.uw),e.Y36(T.qu),e.Y36(I.s),e.Y36(S.ux),e.Y36(x.S),e.Y36(p.F0),e.Y36(d.Jf),e.Y36(C.j),e.Y36(D.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["business-directory"]],decls:10,vars:1,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],["fusePerfectScrollbar","",1,"page-layout","blank","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-6","gap-6","w-full","min-w-0"],[1,"sm:col-span-4","lg:col-span-4","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],[1,"table-container","bg-card","shadow","rounded-2xl"],[1,"mat-elevation-z5",2,"padding","4px!important"],[4,"ngFor","ngForOf"],[1,"sm:col-span-2","lg:col-span-2","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],["class","listItem",4,"ngIf"],[1,"listItem"],["mat-list-icon",""],["mat-line",""],["matBadgeOverlap","false",3,"href","matBadge"]],template:function(s,g){1&s&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"mat-card",5),e.TgZ(6,"mat-list"),e.YNc(7,h,2,1,"ng-container",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"advert"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&s&&(e.xp6(7),e.Q6J("ngForOf",g.directoryCategoryList))},directives:[B.a8,v.i$,y.sg,r.I,y.O5,v.Tg,m.Hw,v.Nh,a.X2,o.k],styles:[".mat-badge-medium.mat-badge-above .mat-badge-content{top:unset!important;right:-28px!important}.listItem{cursor:pointer}\n"],encapsulation:2}),n})();var _=i(7776),M=i(6879);const P=[{path:"",component:E}];let U=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(P),M.z,d.PU,_.m]]}),n})()}}]);