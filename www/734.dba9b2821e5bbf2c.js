"use strict";(self.webpackChunkloadgistix=self.webpackChunkloadgistix||[]).push([[734],{1708:(E,p,i)=>{i.d(p,{I:()=>Z});var f=i(7445),A=i(2340),e=i(5e3),t=i(8279),T=i(7261),y=i(6407),O=i(8951),D=i(4521),x=i(9808),g=i(9224);function I(n,m){if(1&n&&e._UZ(0,"img",7),2&n){const a=e.oxw().$implicit,o=e.oxw(2);e.Q6J("src",o.imagesFolder+"Adverts/"+a.id+a.avatar+"?t="+o.timestamp,e.LSH)}}function S(n,m){if(1&n&&(e.TgZ(0,"mat-card",3),e.TgZ(1,"mat-card-title-group"),e.TgZ(2,"mat-card-title",4),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.qZA(),e.YNc(6,I,1,1,"img",5),e.qZA(),e.TgZ(7,"mat-card-content"),e._uU(8),e._UZ(9,"br"),e._UZ(10,"br"),e.TgZ(11,"a",6),e._uU(12),e.qZA(),e.qZA(),e.qZA()),2&n){const a=m.$implicit;e.xp6(3),e.Oqu(a.title),e.xp6(2),e.Oqu(a.subTitle),e.xp6(1),e.Q6J("ngIf",a.avatar),e.xp6(2),e.hij(" ",a.content,""),e.xp6(3),e.Q6J("href",a.link,e.LSH),e.xp6(1),e.Oqu(a.link)}}function C(n,m){if(1&n&&(e.ynx(0),e.YNc(1,S,13,6,"mat-card",2),e.BQk()),2&n){const a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.advertItems)}}function u(n,m){1&n&&(e.TgZ(0,"mat-card",3),e.TgZ(1,"mat-card-title-group"),e.TgZ(2,"mat-card-title",4),e._uU(3,"Loadgistix"),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5,"Get more"),e.qZA(),e._UZ(6,"img",8),e.qZA(),e.TgZ(7,"mat-card-content"),e._uU(8," Contact us today - we will show you how to get the best out of Loadgistix! "),e.qZA(),e.qZA())}let Z=(()=>{class n{constructor(a,o,l,v,B){this.apiService=a,this._snackBar=o,this.variableService=l,this.authService=v,this._router=B,this.timestamp=0,this.imagesFolder=A.N.api+"Images/",this.loading=!0,this.advertItems=[],this.timestamp=(new Date).getTime()}ngOnInit(){this.getAdverts().then(o=>{this.advertItems=o});const a=(0,f.F)(6e5);this.subscription=a.subscribe(o=>{this.authService.check().subscribe(l=>{l&&this.getAdverts().then(v=>{this.advertItems=v,this.timestamp=(new Date).getTime()})})})}getAdverts(){return new Promise(o=>{try{this.apiService.post("adverts","available",null).subscribe({next:l=>{1==l.result?o(l.data):"Expired"==l.message?this._router.navigate(["/sign-out"]):this._snackBar.open("Error: "+l.message,null,{duration:2e3})},error:l=>{console.log(l),this._snackBar.open("Error: "+l,null,{duration:2e3})},complete:()=>{}})}catch(l){o([])}})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(t.s),e.Y36(T.ux),e.Y36(y.S),e.Y36(O.e),e.Y36(D.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["advert"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","style","margin-bottom: 12px;",4,"ngIf"],["class","flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","style","margin-bottom: 12px;",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden",2,"margin-bottom","12px"],[2,"font-size","18px"],["mat-card-sm-image","",3,"src",4,"ngIf"],["target","_blank",3,"href"],["mat-card-sm-image","",3,"src"],["mat-card-sm-image","","src","assets/images/no-image.jpg"]],template:function(a,o){1&a&&(e.YNc(0,C,2,1,"ng-container",0),e.YNc(1,u,9,0,"mat-card",1)),2&a&&(e.Q6J("ngIf",o.advertItems.length>0),e.xp6(1),e.Q6J("ngIf",0===o.advertItems.length))},directives:[x.O5,x.sg,g.a8,g.C1,g.n5,g.$j,g.dn,g.vP],styles:[".mat-card-sm-image[_ngcontent-%COMP%]{max-width:120px;max-height:120px;width:auto;height:auto}"]}),n})()},7734:(E,p,i)=>{i.r(p),i.d(p,{BusinessDirectoryOpenModule:()=>M});var f=i(4521),A=i(7579),e=i(2722),t=i(5e3),T=i(8966),y=i(3075),O=i(8279),D=i(7261),x=i(6407),g=i(9122),I=i(6362),S=i(4880),C=i(9224),u=i(4623),Z=i(9808),n=i(1708),m=i(5245),a=i(508),o=i(7544);function l(r,h){if(1&r&&(t.TgZ(0,"mat-list-item",20),t.TgZ(1,"mat-icon",21),t._uU(2,"note"),t.qZA(),t.TgZ(3,"div",22),t.TgZ(4,"a",23),t._uU(5),t.qZA(),t.qZA(),t.qZA()),2&r){const s=t.oxw().$implicit;t.xp6(4),t.Q6J("href","#/directoryDetails?id="+s.id,t.LSH)("matBadge",s.directory?s.directory.length:0),t.xp6(1),t.Oqu(s.description)}}function v(r,h){if(1&r&&(t.ynx(0),t.YNc(1,l,6,3,"mat-list-item",19),t.BQk()),2&r){const s=h.$implicit;t.xp6(1),t.Q6J("ngIf",(s.directory?s.directory.length:0)>0)}}let B=(()=>{class r{constructor(s,c,d,P,Y,L,w,F,W){this.dialog=s,this._formBuilder=c,this.apiService=d,this._snackBar=P,this.variableService=Y,this._router=L,this._fuseNavigationService=w,this.fuseSplashScreenService=F,this._fuseMediaWatcherService=W,this.loading=!0,this._unsubscribeAll=new A.x,this.userId=localStorage.getItem("userId"),this.navigation=[{id:"home",title:"Home",type:"basic",icon:"heroicons_outline:home",link:"/home"},{id:"businessDirectory",title:"Business Directory",type:"basic",icon:"heroicons_outline:chart-pie",link:"/businessDirectory"}],this.fuseSplashScreenService.show(),this.loading=!0,console.log(this.userId)}ngOnInit(){this._fuseMediaWatcherService.onMediaChange$.pipe((0,e.R)(this._unsubscribeAll)).subscribe(({matchingAliases:s})=>{this.isScreenSmall=!s.includes("md")}),this.getDirectoryCategories().then(s=>{this.variableService.setPageSelected("Business Directory"),this.directoryCategoryList=s,this.fuseSplashScreenService.hide(),this.loading=!1})}toggleNavigation(s){const c=this._fuseNavigationService.getComponent(s);c&&c.toggle()}get currentYear(){return(new Date).getFullYear()}getDirectoryCategories(){return new Promise(c=>{try{this.apiService.post("directoryCategories","available",null).subscribe({next:d=>{1==d.result?c(d.data):"Expired"==d.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+d.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:d=>{console.log(d),this._snackBar.open("Error: "+d,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(d){c([])}})}}return r.\u0275fac=function(s){return new(s||r)(t.Y36(T.uw),t.Y36(y.qu),t.Y36(O.s),t.Y36(D.ux),t.Y36(x.S),t.Y36(f.F0),t.Y36(g.Jf),t.Y36(I.j),t.Y36(S.T))},r.\u0275cmp=t.Xpm({type:r,selectors:[["businessDirectory"]],decls:23,vars:2,consts:[[1,"flex","flex-col","flex-auto","w-full","min-w-0"],[1,"relative","flex","flex-0","items-center","w-full","h-16","sm:h-20","px-4","md:px-6","z-49","shadow","dark:shadow-none","dark:border-b","bg-card","dark:bg-transparent","print:hidden"],[1,"flex","items-center","mx-2","lg:mr-8"],[1,"hidden","lg:flex"],["src","assets/images/logo/logo.png",1,"dark:hidden","w-14"],["src","assets/images/logo/logo-text-on-dark.png",1,"hidden","dark:flex","w-24"],["src","assets/images/logo/logo.png",1,"flex","lg:hidden","w-12"],[1,"text-secondary","text-2xl","md:text-3xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","ml-4"],[1,"relative","flex","flex-col","flex-auto","min-w-0","overflow-hidden"],[1,"flex","flex-col","flex-auto","min-w-0"],["fusePerfectScrollbar","",1,"page-layout","blank","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-6","gap-6","w-full","min-w-0"],[1,"sm:col-span-4","lg:col-span-4","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],[1,"table-container","bg-card","shadow","rounded-2xl"],[1,"mat-elevation-z5",2,"padding","4px!important"],[4,"ngFor","ngForOf"],[1,"sm:col-span-2","lg:col-span-2","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],[1,"relative","flex","flex-0","items-center","w-full","h-14","sm:h-20","px-4","md:px-6","z-49","border-t","bg-card","dark:bg-transparent","print:hidden"],[1,"font-medium","text-secondary"],["class","listItem",4,"ngIf"],[1,"listItem"],["mat-list-icon",""],["mat-line",""],["matBadgeOverlap","false",3,"href","matBadge"]],template:function(s,c){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._UZ(4,"img",4),t._UZ(5,"img",5),t.qZA(),t._UZ(6,"img",6),t.TgZ(7,"h2",7),t._uU(8," LOADGISTIX "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",8),t.TgZ(10,"div",9),t.TgZ(11,"div",10),t.TgZ(12,"div",11),t.TgZ(13,"div",12),t.TgZ(14,"div",13),t.TgZ(15,"mat-card",14),t.TgZ(16,"mat-list"),t.YNc(17,v,2,1,"ng-container",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",16),t._UZ(19,"advert"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",17),t.TgZ(21,"span",18),t._uU(22),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(17),t.Q6J("ngForOf",c.directoryCategoryList),t.xp6(5),t.hij("Loadgistix \xa9 ",c.currentYear,""))},directives:[C.a8,u.i$,Z.sg,n.I,Z.O5,u.Tg,m.Hw,u.Nh,a.X2,o.k],styles:[".mat-badge-medium.mat-badge-above .mat-badge-content{top:unset!important;right:-28px!important}.listItem{cursor:pointer}\n"],encapsulation:2}),r})();var _=i(6038),b=i(6879);const U=[{path:"",component:B}];let M=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[f.Bz.forChild(U),b.z,g.PU,_.m]]}),r})()}}]);