"use strict";(self.webpackChunkloadgistix=self.webpackChunkloadgistix||[]).push([[886],{8120:(S,v,r)=>{r.d(v,{T:()=>I,r:()=>T});var n=r(5e3),f=r(7093),L=r(9808),C=r(5245);function o(_,h){if(1&_){const t=n.EpF();n.TgZ(0,"mat-icon",2),n.NdJ("click",function(){const U=n.CHM(t).index;return n.oxw().onClick(U+1)}),n._uU(1),n.qZA()}if(2&_){const t=h.index,Z=n.oxw();n.Q6J("color",Z.color)("id","star_"+t),n.xp6(1),n.hij(" ",Z.showIcon(t)," ")}}let I=(()=>{class _{constructor(){this.rating=3,this.starCount=5,this.color="accent",this.ratingUpdated=new n.vpe,this.ratingArr=[]}ngOnInit(){for(let t=0;t<this.starCount;t++)this.ratingArr.push(t)}onClick(t){return this.ratingUpdated.emit(t),!1}showIcon(t){return this.rating>=t+1?"star":"star_border"}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["mat-star-rating"]],inputs:{rating:"rating",starCount:"starCount",color:"color"},outputs:{ratingUpdated:"ratingUpdated"},decls:2,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-around center"],[3,"color","id","click",4,"ngFor","ngForOf"],[3,"color","id","click"]],template:function(t,Z){1&t&&(n.TgZ(0,"div",0),n.YNc(1,o,2,3,"mat-icon",1),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngForOf",Z.ratingArr))},directives:[f.xw,f.Wh,L.sg,C.Hw],styles:[""]}),_})();var T=(()=>{return(_=T||(T={})).primary="primary",_.accent="accent",_.warn="warn",T;var _})()},2388:(S,v,r)=>{r.d(v,{S:()=>F});var n=r(8966),f=r(7579),L=r(7738),C=r(3098),o=r(5e3),I=r(8279),T=r(2313),_=r(7093),h=r(3075),t=r(7322),Z=r(4107),E=r(9808),U=r(7531),x=r(24),D=r(7423),M=r(508),q=r(6856),P=r(8120);function O(d,p){if(1&d&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&d){const l=p.$implicit;o.Q6J("value",l.id),o.xp6(1),o.hij(" ",l.description,"")}}function w(d,p){if(1&d&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&d){const l=p.$implicit;o.Q6J("value",l.id),o.xp6(1),o.hij(" ",l.description,"")}}function y(d,p){if(1&d&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&d){const l=p.$implicit;o.Q6J("value",l.id),o.xp6(1),o.hij(" ",l.firstName+" "+l.lastName,"")}}function N(d,p){1&d&&(o.TgZ(0,"mat-error"),o._uU(1,"Price is required"),o.qZA())}function R(d,p){if(1&d&&o._UZ(0,"mat-datepicker-toggle",23),2&d){o.oxw();const l=o.MAs(42);o.Q6J("for",l)}}function J(d,p){if(1&d&&o._UZ(0,"mat-datepicker-toggle",23),2&d){o.oxw();const l=o.MAs(52);o.Q6J("for",l)}}function B(d,p){if(1&d&&(o.TgZ(0,"mat-form-field",24),o.TgZ(1,"mat-label"),o._uU(2,"Driver Rating"),o.qZA(),o._UZ(3,"input",25),o._UZ(4,"mat-star-rating",26),o.TgZ(5,"mat-error"),o._uU(6,"Rating is required"),o.qZA(),o.TgZ(7,"mat-hint"),o.TgZ(8,"b"),o._uU(9),o.qZA(),o._uU(10," Reviews"),o.qZA(),o.qZA()),2&d){const l=o.oxw();o.xp6(4),o.Q6J("rating",l.reviewDriver)("starCount",5)("color",l.starColorP),o.xp6(5),o.Oqu(l.bidRow.reviewDriverCount)}}function k(d,p){if(1&d){const l=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){return o.CHM(l),o.oxw().accept()}),o._uU(1,"Accept"),o.qZA()}if(2&d){const l=o.oxw();o.Q6J("disabled",!l.form.valid)}}function Q(d,p){if(1&d){const l=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){return o.CHM(l),o.oxw().decline()}),o._uU(1,"Decline"),o.qZA()}if(2&d){const l=o.oxw();o.Q6J("disabled",!l.form.valid)}}function Y(d,p){if(1&d){const l=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){return o.CHM(l),o.oxw().onYesClick()}),o._uU(1,"Submit"),o.qZA()}if(2&d){const l=o.oxw();o.Q6J("disabled",!l.form.valid)}}let F=(()=>{class d{constructor(l,g,u,b,W){this.dialog=l,this.dialogRef=g,this.data=u,this.apiService=b,this.sanitizer=W,this.previewImage=null,this.readOnly=!1,this.hasError=(K,V)=>this.form.controls[K].hasError(V),this.formErrors=u.formErrors,this.formData=u,this.bidRow=u.item,this.readOnly=1==u.readOnly,this._unsubscribeAll=new f.x}ngOnInit(){this.form=this.data.form,this.formValid=!1}initCamera(){const l=new n.vA;l.autoFocus=!0,l.disableClose=!0,l.hasBackdrop=!0,l.ariaLabel="fffff",l.width="800px",this.dialog.open(L._,l).afterClosed().subscribe(u=>{u&&(this.form.controls.avatar.setValue(u._imageAsDataUrl),this.previewImage=u._imageAsDataUrl)})}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(this.form.value)}accept(){this.bidRow.statusId=C.i.parse("6a21aec4-fb07-4740-98b5-b8ecfad465d7"),this.bidRow.statusDescription="Accepted",this.dialogRef.close(this.bidRow)}decline(){this.bidRow.statusId=C.i.parse("e12dcdd2-65e0-48d3-a313-1b796a7668f9"),this.bidRow.statusDescription="Declined",this.dialogRef.close(this.bidRow)}}return d.\u0275fac=function(l){return new(l||d)(o.Y36(n.uw),o.Y36(n.so),o.Y36(n.WI),o.Y36(I.s),o.Y36(T.H7))},d.\u0275cmp=o.Xpm({type:d,selectors:[["dialog-bid"]],decls:64,vars:14,consts:[["mat-dialog-title","",1,"accent","dialog-title","bg-primary","text-on-primary","text-secondary"],["mat-dialog-content","","fxLayout","column"],["fxLayout","column","fxLayoutAlign","start","fxFlex","1 0 auto","name","form","novalidate","",1,"mat-white-bg","w-100-p",2,"padding","0px!important",3,"formGroup"],["fxLayout","row wrap",1,"w-100-p"],["fxFlex","100","fxFlex.gt-xs","50",1,"p-4",2,"padding","0px!important"],["appearance","outline",1,"w-100-p"],["placeholder","LoadId","formControlName","loadId"],[3,"value",4,"ngFor","ngForOf"],["placeholder","VehicleId","formControlName","vehicleId"],["placeholder","DriverId","formControlName","driverId"],["matInput","","type","number","placeholder","Price","formControlName","price","id","price"],[4,"ngIf"],["matInput","","placeholder","Choose a date","formControlName","dateOut",3,"ngxMatDatetimePicker"],["matSuffix","",3,"for",4,"ngIf"],["picker_dateOut",""],["matInput","","placeholder","Choose a date","formControlName","dateIn",3,"ngxMatDatetimePicker"],["picker_dateIn",""],["appearance","outline","class","w-100-p","floatLabel","true",4,"ngIf"],["mat-dialog-actions","",1,"dialog-footer"],[2,"flex","1 1 auto"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"value"],["matSuffix","",3,"for"],["appearance","outline","floatLabel","true",1,"w-100-p"],["matInput","","type","number","placeholder","Punctuality","formControlName","reviewDriver","id","reviewDriver",2,"display","none"],[3,"rating","starCount","color"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(l,g){if(1&l&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1),o.TgZ(3,"form",2),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"mat-form-field",5),o.TgZ(7,"mat-label"),o._uU(8,"Load Description"),o.qZA(),o.TgZ(9,"mat-select",6),o.YNc(10,O,2,2,"mat-option",7),o.qZA(),o.TgZ(11,"mat-error"),o._uU(12,"Load Description is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",4),o.TgZ(14,"mat-form-field",5),o.TgZ(15,"mat-label"),o._uU(16,"Vehicle"),o.qZA(),o.TgZ(17,"mat-select",8),o.YNc(18,w,2,2,"mat-option",7),o.qZA(),o.TgZ(19,"mat-error"),o._uU(20,"Vehicle is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"div",4),o.TgZ(22,"mat-form-field",5),o.TgZ(23,"mat-label"),o._uU(24,"Driver"),o.qZA(),o.TgZ(25,"mat-select",9),o.YNc(26,y,2,2,"mat-option",7),o.qZA(),o.TgZ(27,"mat-error"),o._uU(28,"Driver is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"div",4),o.TgZ(30,"mat-form-field",5),o.TgZ(31,"mat-label"),o._uU(32,"Price"),o.qZA(),o._UZ(33,"input",10),o.YNc(34,N,2,0,"mat-error",11),o.qZA(),o.qZA(),o.TgZ(35,"div",4),o.TgZ(36,"mat-form-field",5),o.TgZ(37,"mat-label"),o._uU(38,"Departure Date"),o.qZA(),o._UZ(39,"input",12),o.YNc(40,R,1,1,"mat-datepicker-toggle",13),o._UZ(41,"ngx-mat-datetime-picker",null,14),o.TgZ(43,"mat-error"),o._uU(44,"Departure Date is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(45,"div",4),o.TgZ(46,"mat-form-field",5),o.TgZ(47,"mat-label"),o._uU(48,"Delivery Date"),o.qZA(),o._UZ(49,"input",15),o.YNc(50,J,1,1,"mat-datepicker-toggle",13),o._UZ(51,"ngx-mat-datetime-picker",null,16),o.TgZ(53,"mat-error"),o._uU(54,"Delivery Date is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(55,"div",4),o.YNc(56,B,11,4,"mat-form-field",17),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(57,"div",18),o._UZ(58,"span",19),o.TgZ(59,"button",20),o.NdJ("click",function(){return g.onNoClick()}),o._uU(60,"Cancel"),o.qZA(),o.YNc(61,k,2,1,"button",21),o.YNc(62,Q,2,1,"button",21),o.YNc(63,Y,2,1,"button",21),o.qZA()),2&l){const u=o.MAs(42),b=o.MAs(52);o.xp6(1),o.hij("",g.formData.title," Bid"),o.xp6(2),o.Q6J("formGroup",g.form),o.xp6(7),o.Q6J("ngForOf",g.formData.loadList),o.xp6(8),o.Q6J("ngForOf",g.formData.vehicleList),o.xp6(8),o.Q6J("ngForOf",g.formData.driverList),o.xp6(8),o.Q6J("ngIf",g.hasError("price","required")),o.xp6(5),o.Q6J("ngxMatDatetimePicker",u),o.xp6(1),o.Q6J("ngIf",!g.readOnly),o.xp6(9),o.Q6J("ngxMatDatetimePicker",b),o.xp6(1),o.Q6J("ngIf",!g.readOnly),o.xp6(6),o.Q6J("ngIf",g.readOnly),o.xp6(5),o.Q6J("ngIf",g.readOnly),o.xp6(1),o.Q6J("ngIf",g.readOnly),o.xp6(1),o.Q6J("ngIf",!g.readOnly)}},directives:[n.uh,n.xY,_.xw,h._Y,h.JL,_.Wh,_.yH,h.sg,t.KE,t.hX,Z.gD,h.JJ,h.u,E.sg,t.TO,U.Nt,h.wV,h.Fj,E.O5,x.g2,x.AB,n.H8,D.lW,M.ey,q.nW,t.R9,P.T,t.bx],encapsulation:2}),d})()},4886:(S,v,r)=>{r.d(v,{s:()=>Zt});var n=r(3075),f=r(8966),L=r(7579),C=r(1638),o=r(7738),I=r(3098),T=r(2388),_=r(8120),h=r(2340),t=r(5e3),Z=r(8279),E=r(7261),U=r(6362),x=r(7093),D=r(7322),M=r(4107),q=r(9808),P=r(7531),O=r(24),w=r(7423),y=r(508),N=r(5245),R=r(6856),J=r(7544);function B(a,s){if(1&a&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.description," ")}}function k(a,s){if(1&a&&(t.TgZ(0,"mat-optgroup",47),t.YNc(1,B,2,2,"mat-option",27),t.qZA()),2&a){const e=s.$implicit;t.Q6J("label",e.description),t.xp6(1),t.Q6J("ngForOf",e.loadTypeList)}}function Q(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Description is required"),t.qZA())}function Y(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Item Count is required"),t.qZA())}function F(a,s){if(1&a&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Items"),t.qZA(),t._UZ(4,"input",49),t.YNc(5,Y,2,0,"mat-error",9),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.hasError("itemCount","required"))}}function d(a,s){1&a&&t._UZ(0,"div",4)}function p(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Weight is required"),t.qZA())}function l(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Length is required"),t.qZA())}function g(a,s){if(1&a&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Length (cm)"),t.qZA(),t._UZ(4,"input",50),t.YNc(5,l,2,0,"mat-error",9),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.hasError("length","required"))}}function u(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Width is required"),t.qZA())}function b(a,s){if(1&a&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Width (cm)"),t.qZA(),t._UZ(4,"input",51),t.YNc(5,u,2,0,"mat-error",9),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.hasError("width","required"))}}function W(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Height is required"),t.qZA())}function K(a,s){if(1&a&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Height (cm)"),t.qZA(),t._UZ(4,"input",52),t.YNc(5,W,2,0,"mat-error",9),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.hasError("height","required"))}}function V(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Volume is required"),t.qZA())}function H(a,s){if(1&a&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Volume (litres)"),t.qZA(),t._UZ(4,"input",53),t.YNc(5,V,2,0,"mat-error",9),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.hasError("volume","required"))}}function j(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){return t.CHM(e),t.oxw().getAddress("originatingAddressLabel")}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA(),t.qZA()}}function z(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Originating Address is required "),t.qZA())}function $(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){return t.CHM(e),t.oxw().getAddress("destinationAddressLabel")}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA(),t.qZA()}}function X(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Destination Address is required "),t.qZA())}function G(a,s){if(1&a&&t._UZ(0,"mat-datepicker-toggle",55),2&a){t.oxw();const e=t.MAs(53);t.Q6J("for",e)}}function tt(a,s){if(1&a&&t._UZ(0,"mat-datepicker-toggle",55),2&a){t.oxw();const e=t.MAs(63);t.Q6J("for",e)}}function ot(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Note is required"),t.qZA())}function et(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Total Value is required"),t.qZA())}function at(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Price is required"),t.qZA())}function it(a,s){if(1&a&&t._UZ(0,"mat-datepicker-toggle",55),2&a){t.oxw();const e=t.MAs(91);t.Q6J("for",e)}}function rt(a,s){if(1&a&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.description)}}function nt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(104).click()}),t._uU(1,"Upload Image"),t.qZA()}}function lt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"img",57),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(104).click()}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("src",e.previewImage,t.LSH)}}function st(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"img",57),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(104).click()}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("src",e.imagesFolder+"Loads/"+e.form.value.id+e.form.value.avatar+"?t="+e.timestamp,t.LSH)}}function dt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"img",58),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(104).click()}),t.qZA()}}function mt(a,s){if(1&a&&t._UZ(0,"img",59),2&a){const e=t.oxw();t.Q6J("src",e.imagesFolder+"Loads/"+e.form.value.id+e.form.value.avatar+"?t="+e.timestamp,t.LSH)}}function _t(a,s){1&a&&t._UZ(0,"img",60)}function gt(a,s){1&a&&(t.TgZ(0,"span",61),t._uU(1,"Company Rating:"),t.qZA())}function ct(a,s){if(1&a&&(t.TgZ(0,"span",62),t._UZ(1,"mat-star-rating",63),t.qZA()),2&a){const e=t.oxw();t.Q6J("matBadge",e.bidRow.reviewCount),t.xp6(1),t.Q6J("rating",e.bidRow.review)("starCount",5)("color",e.starColorP)}}function pt(a,s){1&a&&(t.TgZ(0,"span",64),t._uU(1,"Open Bids:"),t.qZA())}function ut(a,s){if(1&a&&(t.TgZ(0,"span",61),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Oqu(e.bidRow.bidCount)}}function ft(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){return t.CHM(e),t.oxw().onYesClick()}),t._uU(1,"Submit"),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("disabled",!e.form.valid)}}function ht(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw().initBid()}),t._uU(1,"Place Bid"),t.qZA()}}let Zt=(()=>{class a{constructor(e,i,m,c,A,Tt,xt){this.dialog=e,this.dialogRef=i,this.data=m,this._formBuilder=c,this.apiService=A,this._snackBar=Tt,this.fuseSplashScreenService=xt,this.timestamp=0,this.imagesFolder=h.N.api+"Images/",this.previewImage=null,this.readOnly=!1,this.vehicleList=[],this.driverList=[],this.loadCategoryList=[],this.loading=!0,this.starColor=_.r.accent,this.starColorP=_.r.primary,this.starColorW=_.r.warn,this.hasError=(At,Ct)=>this.form.controls[At].hasError(Ct),this.timestamp=(new Date).getTime(),1==m.readOnly&&(this.bidRow=m.item),this.formErrors=m.formErrors,this.formData=m,this.readOnly=1==m.readOnly,this.vehicleList=m.vehicleList,this.driverList=m.driverList,this._unsubscribeAll=new L.x}ngOnInit(){this.form=this.data.form,this.formValid=!1,this.data.loadCategoryList.forEach(e=>{e.loadTypeList=this.data.loadTypeList.filter(i=>i.loadCategoryId==e.id).sort((i,m)=>i.description.localeCompare(m.description)),this.loadCategoryList.push(e)}),setTimeout(()=>{this.loadCategoryList=this.loadCategoryList.sort((e,i)=>e.description.localeCompare(i.description)),this.loadTypeChanged()},100)}handleFileInput(e){this.fileToUpload=e.item(0),this.form.controls.fileToUpload.setValue(this.fileToUpload);var i=(this.fileToUpload.size/1048576).toFixed(2);if(Number(i)>Number(.25))return this._snackBar.open("Error: Maximum FileSize is 200kB",null,{duration:2e3}),!1;{let m=new FileReader;m.onload=c=>{this.previewImage=c.target.result},m.readAsDataURL(this.fileToUpload)}}initCamera(){const e=new f.vA;e.autoFocus=!0,e.disableClose=!0,e.hasBackdrop=!0,e.ariaLabel="fffff",e.width="800px",this.dialog.open(o._,e).afterClosed().subscribe(m=>{m&&(this.form.controls.avatar.setValue(m._imageAsDataUrl),this.previewImage=m._imageAsDataUrl,this.form.controls.avatarChanged.setValue(!0))})}getAddress(e){const i=new f.vA;i.data={label:"Loadgistix",lat:28.1045642,lon:-26.3296247},"originatingAddressLabel"==e&&this.form.controls.originatingAddressLabel.value&&(i.data.label=this.form.controls.originatingAddressLabel.value,i.data.lat=this.form.controls.originatingAddressLat.value,i.data.lon=this.form.controls.originatingAddressLon.value),"destinationAddressLabel"==e&&this.form.controls.destinationAddressLabel.value&&(i.data.label=this.form.controls.destinationAddressLabel.value,i.data.lat=this.form.controls.destinationAddressLat.value,i.data.lon=this.form.controls.destinationAddressLon.value),i.autoFocus=!0,i.disableClose=!0,i.hasBackdrop=!0,i.ariaLabel="fffff",i.width="800px",this.dialog.open(C.S,i).afterClosed().subscribe(c=>{c&&("originatingAddressLabel"==e&&(this.form.controls.originatingAddressLabel.setValue(c.label),this.form.controls.originatingAddressLat.setValue(c.x),this.form.controls.originatingAddressLon.setValue(c.y)),"destinationAddressLabel"==e&&(this.form.controls.destinationAddressLabel.setValue(c.label),this.form.controls.destinationAddressLat.setValue(c.x),this.form.controls.destinationAddressLon.setValue(c.y)))})}loadTypeChanged(){this.getLoadTypeLiquid()?(this.form.controls.height.clearValidators(),this.form.controls.width.clearValidators(),this.form.controls.length.clearValidators(),this.form.controls.itemCount.clearValidators(),this.form.controls.volume.setValidators([n.kI.required])):(this.form.controls.height.setValidators([n.kI.required]),this.form.controls.width.setValidators([n.kI.required]),this.form.controls.length.setValidators([n.kI.required]),this.form.controls.itemCount.setValidators([n.kI.required]),this.form.controls.volume.clearValidators()),setTimeout(()=>{this.form.controls.height.updateValueAndValidity(),this.form.controls.width.updateValueAndValidity(),this.form.controls.length.updateValueAndValidity(),this.form.controls.itemCount.updateValueAndValidity(),this.form.controls.volume.updateValueAndValidity()},100)}getLoadTypeLiquid(){return!(!this.form.controls.loadTypeId.value||!this.formData.loadTypeList.find(e=>e.id===this.form.controls.loadTypeId.value))&&this.formData.loadTypeList.find(e=>e.id===this.form.controls.loadTypeId.value).liquid}initBid(){this.formBid=this._formBuilder.group({id:[I.i.create().toString()],userId:[null==this.bidRow?localStorage.getItem("userId"):this.bidRow.userId],loadId:[null==this.bidRow?null:this.bidRow.id,n.kI.required],vehicleId:[null,n.kI.required],driverId:[null,n.kI.required],price:[null==this.bidRow?null:this.bidRow.price,n.kI.required],dateOut:[null==this.bidRow?null:this.bidRow.dateOut,n.kI.required],dateIn:[null==this.bidRow?null:this.bidRow.dateIn,n.kI.required],statusId:[null==this.bidRow?"B3B7D04D-64B7-4ED7-BFE1-CF06D2B4A8AB":this.bidRow.statusId.toString()]});const e=new f.vA;e.data={item:this.bidRow,form:this.formBid,loadList:[this.bidRow],vehicleList:this.vehicleList,driverList:this.driverList,title:"Place a"},e.autoFocus=!0,e.disableClose=!0,e.hasBackdrop=!0,e.ariaLabel="fffff",e.width="800px",this.dialog.open(T.S,e).afterClosed().subscribe(m=>{!1!==m&&(m.loadUserId=this.bidRow.userId,this.fuseSplashScreenService.show(),this.loading=!0,this.apiService.post("bids",null,m).subscribe(c=>{this.fuseSplashScreenService.hide(),this.loading=!1,this.dialogRef.close(!1)},c=>{console.log(c),this._snackBar.open("Error: "+c,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1}))})}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(this.form.value)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.uw),t.Y36(f.so),t.Y36(f.WI),t.Y36(n.qu),t.Y36(Z.s),t.Y36(E.ux),t.Y36(U.j))},a.\u0275cmp=t.Xpm({type:a,selectors:[["dialog-load"]],decls:126,vars:37,consts:[["mat-dialog-title","","fxLayout","row",1,"accent","dialog-title","bg-primary","text-on-primary","text-secondary"],["mat-dialog-content","","fxLayout","column"],["fxLayout","column","fxLayoutAlign","start","fxFlex","1 0 auto","name","form","novalidate","",1,"mat-white-bg","w-100-p",2,"padding","0px!important",3,"formGroup"],["fxLayout","row wrap",1,"w-100-p"],["fxFlex","100","fxFlex.gt-xs","50",1,"p-4",2,"padding","0px!important"],["appearance","outline",1,"w-100-p"],["placeholder","LoadTypeId","formControlName","loadTypeId",3,"selectionChange"],[3,"label",4,"ngFor","ngForOf"],["matInput","","placeholder","Description","formControlName","description","id","description"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50","class","p-4","style","padding: 0px!important;",4,"ngIf"],["matInput","","type","number","placeholder","Weight","formControlName","weight","id","weight"],["readonly","","matInput","","placeholder","OriginatingAddressLabel","formControlName","originatingAddressLabel","id","originatingAddressLabel"],["matSuffix","","mat-button","",3,"click",4,"ngIf"],["readonly","","matInput","","placeholder","DestinationAddressLabel","formControlName","destinationAddressLabel","id","destinationAddressLabel"],["matInput","","placeholder","Choose a date","formControlName","dateOut",3,"ngxMatDatetimePicker"],["matSuffix","",3,"for",4,"ngIf"],["picker_dateOut",""],["matInput","","placeholder","Choose a date","formControlName","dateIn",3,"ngxMatDatetimePicker"],["picker_dateIn",""],["fxFlex","100",1,"p-4",2,"padding","0px!important"],["matInput","","placeholder","Special Instructions","formControlName","note","id","description"],["matInput","","type","number","placeholder","Total Value","formControlName","totalValue","id","totalValue"],["matInput","","type","number","placeholder","Price","formControlName","price","id","price"],["matInput","","placeholder","Choose a date","formControlName","dateBidEnd",3,"ngxMatDatetimePicker"],["picker_dateBidEnd",""],["placeholder","NotificationId","formControlName","notificationId"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxLayout","row","fxLayoutAlign","center center",1,"p-4"],["id","fileInput","type","file","accept",".jpg,.png,.jpeg",2,"display","none",3,"click","change"],["Image",""],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayout","row"],["mat-flat-button","","fxFlex","100","color","primary","style","margin-left: 2px; margin-right: 2px;",3,"click",4,"ngIf"],["fxFlex","","fxLayout","row","fxLayoutAlign","center center",2,"margin-top","4px"],["style","max-width: 120px;max-height: 120px;width: auto;height: auto;","class","image",3,"src","click",4,"ngIf"],["style","max-width: 120px;max-height: 120px;width: auto;height: auto;","src","assets/images/no-image.jpg","class","image",3,"click",4,"ngIf"],["style","max-width: 120px;max-height: 120px;width: auto;height: auto;","class","image",3,"src",4,"ngIf"],["style","max-width: 120px;max-height: 120px;width: auto;height: auto;","src","assets/images/no-image.jpg","class","image",4,"ngIf"],["mat-dialog-actions","",1,"dialog-footer"],["style","font-size:16px; margin-top: 4px;",4,"ngIf"],["style","font-size:16px; margin-top: 4px;",3,"matBadge",4,"ngIf"],["style","font-size:16px; margin-left: 40px; margin-top: 4px;",4,"ngIf"],[2,"flex","1 1 auto"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[3,"label"],[3,"value"],["matInput","","type","number","placeholder","ItemCount","formControlName","itemCount","id","itemCount"],["matInput","","type","number","placeholder","Length","formControlName","length","id","length"],["matInput","","type","number","placeholder","Width","formControlName","width","id","width"],["matInput","","type","number","placeholder","Height","formControlName","height","id","height"],["matInput","","type","number","placeholder","Volume (Litres)","formControlName","volume","id","volume"],["matSuffix","","mat-button","",3,"click"],["matSuffix","",3,"for"],["mat-flat-button","","fxFlex","100","color","primary",2,"margin-left","2px","margin-right","2px",3,"click"],[1,"image",2,"max-width","120px","max-height","120px","width","auto","height","auto",3,"src","click"],["src","assets/images/no-image.jpg",1,"image",2,"max-width","120px","max-height","120px","width","auto","height","auto",3,"click"],[1,"image",2,"max-width","120px","max-height","120px","width","auto","height","auto",3,"src"],["src","assets/images/no-image.jpg",1,"image",2,"max-width","120px","max-height","120px","width","auto","height","auto"],[2,"font-size","16px","margin-top","4px"],[2,"font-size","16px","margin-top","4px",3,"matBadge"],[2,"position","relative","top","2px",3,"rating","starCount","color"],[2,"font-size","16px","margin-left","40px","margin-top","4px"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,i){if(1&e){const m=t.EpF();t.TgZ(0,"h1",0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA(),t.TgZ(3,"div",1),t.TgZ(4,"form",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"mat-form-field",5),t.TgZ(8,"mat-label"),t._uU(9,"Load Type"),t.qZA(),t.TgZ(10,"mat-select",6),t.NdJ("selectionChange",function(){return i.loadTypeChanged()}),t.YNc(11,k,2,2,"mat-optgroup",7),t.qZA(),t.TgZ(12,"mat-error"),t._uU(13,"Load Type is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",4),t.TgZ(15,"mat-form-field",5),t.TgZ(16,"mat-label"),t._uU(17,"Description"),t.qZA(),t._UZ(18,"input",8),t.YNc(19,Q,2,0,"mat-error",9),t.qZA(),t.qZA(),t.YNc(20,F,6,1,"div",10),t.YNc(21,d,1,0,"div",10),t.TgZ(22,"div",4),t.TgZ(23,"mat-form-field",5),t.TgZ(24,"mat-label"),t._uU(25,"Weight (kg)"),t.qZA(),t._UZ(26,"input",11),t.YNc(27,p,2,0,"mat-error",9),t.qZA(),t.qZA(),t.YNc(28,g,6,1,"div",10),t.YNc(29,b,6,1,"div",10),t.YNc(30,K,6,1,"div",10),t.YNc(31,H,6,1,"div",10),t.TgZ(32,"div",4),t.TgZ(33,"mat-form-field",5),t.TgZ(34,"mat-label"),t._uU(35,"Originating Address"),t.qZA(),t._UZ(36,"input",12),t.YNc(37,j,3,0,"button",13),t.YNc(38,z,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(39,"div",4),t.TgZ(40,"mat-form-field",5),t.TgZ(41,"mat-label"),t._uU(42,"Destination Address"),t.qZA(),t._UZ(43,"input",14),t.YNc(44,$,3,0,"button",13),t.YNc(45,X,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(46,"div",4),t.TgZ(47,"mat-form-field",5),t.TgZ(48,"mat-label"),t._uU(49,"Depature Date"),t.qZA(),t._UZ(50,"input",15),t.YNc(51,G,1,1,"mat-datepicker-toggle",16),t._UZ(52,"ngx-mat-datetime-picker",null,17),t.TgZ(54,"mat-error"),t._uU(55,"Depature Date is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",4),t.TgZ(57,"mat-form-field",5),t.TgZ(58,"mat-label"),t._uU(59,"Delivery Date"),t.qZA(),t._UZ(60,"input",18),t.YNc(61,tt,1,1,"mat-datepicker-toggle",16),t._UZ(62,"ngx-mat-datetime-picker",null,19),t.TgZ(64,"mat-error"),t._uU(65,"Delivery Date is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"div",20),t.TgZ(67,"mat-form-field",5),t.TgZ(68,"mat-label"),t._uU(69,"Special Instructions / Constraints"),t.qZA(),t._UZ(70,"textarea",21),t.YNc(71,ot,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(72,"div",4),t.TgZ(73,"mat-form-field",5),t.TgZ(74,"mat-label"),t._uU(75,"Total Value"),t.qZA(),t._UZ(76,"input",22),t.YNc(77,et,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(78,"div",4),t.TgZ(79,"mat-form-field",5),t.TgZ(80,"mat-label"),t._uU(81,"Price"),t.qZA(),t._UZ(82,"input",23),t.YNc(83,at,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(84,"div",4),t.TgZ(85,"mat-form-field",5),t.TgZ(86,"mat-label"),t._uU(87,"Bid Close Date"),t.qZA(),t._UZ(88,"input",24),t.YNc(89,it,1,1,"mat-datepicker-toggle",16),t._UZ(90,"ngx-mat-datetime-picker",null,25),t.TgZ(92,"mat-error"),t._uU(93,"Bid Close Date is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(94,"div",4),t.TgZ(95,"mat-form-field",5),t.TgZ(96,"mat-label"),t._uU(97,"Notification Type"),t.qZA(),t.TgZ(98,"mat-select",26),t.YNc(99,rt,2,2,"mat-option",27),t.qZA(),t.TgZ(100,"mat-error"),t._uU(101,"Notification Type is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(102,"div",28),t.TgZ(103,"input",29,30),t.NdJ("click",function(){return t.CHM(m),t.MAs(104).value=null})("change",function(A){return i.handleFileInput(A.target.files)}),t.qZA(),t.TgZ(105,"div",31),t.TgZ(106,"div",32),t.YNc(107,nt,2,0,"button",33),t.qZA(),t.TgZ(108,"div",34),t.YNc(109,lt,1,1,"img",35),t.YNc(110,st,1,1,"img",35),t.YNc(111,dt,1,0,"img",36),t.YNc(112,mt,1,1,"img",37),t.YNc(113,_t,1,0,"img",38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(114,"div",39),t.YNc(115,gt,2,0,"span",40),t._uU(116,"\xa0 "),t.YNc(117,ct,2,4,"span",41),t.YNc(118,pt,2,0,"span",42),t._uU(119,"\xa0"),t.YNc(120,ut,2,1,"span",40),t._UZ(121,"span",43),t.TgZ(122,"button",44),t.NdJ("click",function(){return i.onNoClick()}),t._uU(123,"Cancel"),t.qZA(),t.YNc(124,ft,2,1,"button",45),t.YNc(125,ht,2,0,"button",46),t.qZA()}if(2&e){const m=t.MAs(53),c=t.MAs(63),A=t.MAs(91);t.xp6(2),t.hij("",i.formData.title," Load"),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(7),t.Q6J("ngForOf",i.loadCategoryList),t.xp6(8),t.Q6J("ngIf",i.hasError("description","required")),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(6),t.Q6J("ngIf",i.hasError("weight","required")),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(1),t.Q6J("ngIf",i.getLoadTypeLiquid()),t.xp6(6),t.Q6J("ngIf",!i.readOnly),t.xp6(1),t.Q6J("ngIf",i.hasError("originatingAddressLabel","required")),t.xp6(6),t.Q6J("ngIf",!i.readOnly),t.xp6(1),t.Q6J("ngIf",i.hasError("destinationAddressLabel","required")),t.xp6(5),t.Q6J("ngxMatDatetimePicker",m),t.xp6(1),t.Q6J("ngIf",!i.readOnly),t.xp6(9),t.Q6J("ngxMatDatetimePicker",c),t.xp6(1),t.Q6J("ngIf",!i.readOnly),t.xp6(10),t.Q6J("ngIf",i.hasError("note","required")),t.xp6(6),t.Q6J("ngIf",i.hasError("totalValue","required")),t.xp6(6),t.Q6J("ngIf",i.hasError("price","required")),t.xp6(5),t.Q6J("ngxMatDatetimePicker",A),t.xp6(1),t.Q6J("ngIf",!i.readOnly),t.xp6(10),t.Q6J("ngForOf",i.formData.notificationList),t.xp6(8),t.Q6J("ngIf",!i.readOnly),t.xp6(2),t.Q6J("ngIf",i.previewImage&&!i.readOnly),t.xp6(1),t.Q6J("ngIf",!i.previewImage&&i.form.value.avatar&&!i.readOnly),t.xp6(1),t.Q6J("ngIf",!i.previewImage&&!i.form.value.avatar&&!i.readOnly),t.xp6(1),t.Q6J("ngIf",i.readOnly&&i.form.value.avatar),t.xp6(1),t.Q6J("ngIf",i.readOnly&&!i.form.value.avatar),t.xp6(2),t.Q6J("ngIf",i.readOnly),t.xp6(2),t.Q6J("ngIf",i.readOnly),t.xp6(1),t.Q6J("ngIf",i.readOnly),t.xp6(2),t.Q6J("ngIf",i.readOnly),t.xp6(4),t.Q6J("ngIf",!i.readOnly),t.xp6(1),t.Q6J("ngIf",i.readOnly)}},directives:[f.uh,x.xw,f.xY,n._Y,n.JL,x.Wh,x.yH,n.sg,D.KE,D.hX,M.gD,n.JJ,n.u,q.sg,D.TO,P.Nt,n.Fj,q.O5,n.wV,O.g2,O.AB,f.H8,w.lW,y.Nv,y.ey,D.R9,N.Hw,R.nW,J.k,_.T],encapsulation:2}),a})()}}]);